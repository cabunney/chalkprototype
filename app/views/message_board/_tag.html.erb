<%= stylesheet_link_tag 'tag', :media => 'screen' %>

<div id = "tag_editor">
	<span id = 'tag_space'>
	<% @tags.each do |t| %>
		<span class = "tag" id = <%= "'tag_#{t.id}'".html_safe%> ><span class = "tag_name"><%= t.name %></span> 
		<a href="#" onclick="$(this).parent().remove()"> x</a>
		</span>
	<% end %>
	</span>
	<div class = "ui-widget">
	<input type="text" id = "tag_editor_input" value = "tags (separate by a comma)" onfocus = "value = ''" onblur = "if (value == '') {value = 'tags (separate by a comma)'}" />
	</div>
</div>
<script type = "text/javascript">
		$(function() {
			<% ruby_tags = [] %>
			<% Tag.all.each do |t| %>
			<% ruby_tags << t.name %>
			<% end %>
			var tags = <%= ruby_tags.to_json.html_safe %>;
			$( "#tag_editor_input" ).autocomplete({
				source: tags
			});
});
</script>

